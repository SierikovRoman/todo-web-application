<div class="visible-xs-sm-block new-todo" ng-cloak hidden>
	<div class="container">
		<form name="newTodoInfo" method="POST" ng-submit="addNewTodo(todoInfo);">
			
			<!-- Title -->
	        <div class="form-group">
	          	<label for="todoName" class="t-title">Title: </label>
	          	<input
	                type="text"
	                name="todoName"
	                class="my-form-control"
	                placeholder="Make a pie"
	                ng-model="todoInfo.todoName"
	                maxlength="50"
	                required />
	        </div>
	          
	        <div class="form-group">
	           	<p class="text-danger" ng-show="newTodoInfo.todoName.$invalid && newTodoInfo.todoName.$dirty">Title field is empty!</p>
	        </div>

			<!-- Details -->
	        <div class="form-group">
	          	<label for="todoDetail" class="t-title">Detail: </label>
	          	<input
	                type="text"
	                name="todoDetail"
	                class="my-form-control"
	                placeholder="Buy tea"
	                ng-model="todoInfo.todoDetail"
	        	>
	        </div>
	         
			<!-- Addons -->
			<div class="form-group">
				<input type="file" name="file-1[]" id="file-1" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" multiple />
				<label for="file-1">

				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg>

				<span>Choose a file&hellip;</span></label>
			</div>

			<!-- Date assigned -->
            <div class="form-group">
            	<div class='input-group'>
		            <label for="todoDateAssigned" class="d-title input-group-addon">Date assigned: </label>
		            <input type="text"
		            	   name="todoDateAssigned" 
                     	   class="my-form-control n-date" 
                     	   data-provide="datepicker"
                     	   ng-model="todoInfo.todoDateAssigned"
                     	   readonly />
	            </div>
            </div>

            <div class="form-group">
	           	<p class="text-danger" ng-show="newTodoInfo.todoDateAssigned.$invalid && newTodoInfo.todoDateAssigned.$dirty">Date assigned is empty!</p>
	        </div>

            <!-- Date deadline -->
            <div class="form-group">
                <div class='input-group'>
                	<label for="todoDateDeadline" class="d-title input-group-addon">Date deadline: </label>
                    <input type="text"
                    	   name="todoDateDeadline" 
                    	   class="my-form-control n-date" 
                     	   data-provide="datepicker"
                     	   ng-model="todoInfo.todoDateDeadline"
                     	   readonly />
                </div>
            </div>

            <div class="form-group">
	           	<p class="text-danger" ng-show="newTodoInfo.todoDateDeadline.$invalid && newTodoInfo.todoDateDeadline.$dirty">Date deadline is empty!</p>
	        </div>
	          
			<!-- List -->
	        <div class="form-group">
	        	<div class='input-group'>
	        		<label for="todoList" class="d-title input-group-addon" >List: </label>
        			<select ng-model="todoInfo.todoList" class="select" required>
		            	<option value=""> Select List </option>
		            	<option ng-repeat="list in lists" value="{{list.id}}">{{list.name}}</option>
		            </select>
	        	</div>
	        </div>

	        <div class="form-group">
	           	<p class="text-danger" ng-show="newTodoInfo.todoList.$invalid && newTodoInfo.todoList.$dirty">Todo list field is empty!</p>
	        </div>

				
			<!-- Priority -->
			<div class="form-group" >
				<div class='input-group'>
					<label for="todoPriority" class="d-title input-group-addon">Priority: </label>
					<select ng-model="todoInfo.todoPriority" class="select" required>
		            	<option value=""> Select Priority </option>
		            	<option ng-repeat="prioritie in priorities" value="{{prioritie.id}}">{{prioritie.name}}</option>
		            </select>
				</div>
	        </div>

	        <div class="form-group">
	           	<p class="text-danger" ng-show="newTodoInfo.todoPriority.$invalid && newTodoInfo.todoPriority.$dirty">Todo list field is empty!</p>
	        </div>


	          <!-- <p align="left" id="error" style="color: red;"></p> -->
	          <button type="submit" class="btn cbt" ng-disabled="newTodoInfo.$invalid">Create</button>
	      </form>
      </div>
</div>





<script>
	$( function ( document, window, index ){
		var inputs = document.querySelectorAll( '.inputfile' );
		Array.prototype.forEach.call( inputs, function( input )
		{
		var label	 = input.nextElementSibling,
			labelVal = label.innerHTML;

		input.addEventListener( 'change', function( e )
		{
			var fileName = '';
			if( this.files && this.files.length > 1 )
				fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
			else
				fileName = e.target.value.split( '\\' ).pop();

			if( fileName )
				label.querySelector( 'span' ).innerHTML = fileName;
			else
				label.innerHTML = labelVal;
		});

		// Firefox bug fix
		input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
		input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
		});
	}( document, window, 0 ));
</script>
